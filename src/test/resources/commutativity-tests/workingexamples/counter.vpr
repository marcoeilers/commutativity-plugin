import "library/unit.vpr"

field f1 : Int

lockType Counter {
  type Int
  invariant(l, v) = [l.f1 |-> ?fv1 && fv1 == v]
  alpha(v): Int = v

  actions = [(Inc,Unit,duplicable)]

  action Inc(v, a)
    requires true
  { v + 1 }
}